(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{96259:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(76687),a=t(59499),o=t(50029),s=t(87794),c=t.n(s),l=t(9008),i=t(67294),u=t(9473),d=t(76509),f=t(3283),m=t.n(f),x=t(44431),p=t.n(x),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.isGreaterThanOrEqualTo("1000000000000000000000000")?e.div("1000000000000000000000000").toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Septillion":e.isGreaterThanOrEqualTo("1000000000000000000000")?e.div("1000000000000000000000").toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Sextillion":e.isGreaterThanOrEqualTo("1000000000000000000")?e.div("1000000000000000000").toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Quintillion":e.isGreaterThanOrEqualTo(1e15)?e.div(1e15).toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Quadrillion":e.isGreaterThanOrEqualTo(1e12)?e.div(1e12).toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Trillion":e.isGreaterThanOrEqualTo(1e9)?e.div(1e9).toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Billion":e.isGreaterThanOrEqualTo(1e6)?e.div(1e6).toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",").replace(/\.0$/,"")+" Million":e.toFixed(n,1).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},h=t(85893),g=function(e){var n=e.vaultContract,t=e.account,r=(0,i.useState)(),a=r[0],s=r[1],l=(0,i.useState)(),u=l[0],f=l[1],x=(0,i.useState)(),g=x[0],b=x[1],w=(0,i.useState)(),j=w[0],y=w[1],k=(0,i.useState)("0"),N=k[0],C=k[1];(0,i.useEffect)((function(){O(),S(),I(),Z()}),[n,t]);var S=function(){var e=(0,o.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,null===n||void 0===n||!n.methods||!t){e.next=5;break}return e.next=4,null===n||void 0===n?void 0:n.methods.diamondBalance().call();case 4:r=e.sent;case 5:s(new(p())(m().utils.fromWei(new(p())(r).toFixed(0))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.Z)(c().mark((function e(){var r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,a=0,null===n||void 0===n||!n.methods||!t){e.next=8;break}return e.next=4,null===n||void 0===n?void 0:n.methods.balanceOf(t).call();case 4:return r=e.sent,e.next=7,null===n||void 0===n?void 0:n.methods.sharesToDiamonds(r).call();case 7:a=e.sent;case 8:o=new(p())(a),f(new(p())(m().utils.fromWei(o.isNaN()?"0":o.toFixed(0))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,null===n||void 0===n||!n.methods||!t){e.next=5;break}return e.next=4,null===n||void 0===n?void 0:n.methods.unlockAmounts(t).call();case 4:r=e.sent;case 5:b(new(p())(m().utils.fromWei(new(p())(r).toFixed(0))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)(c().mark((function e(){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.methods||!t){e.next=6;break}return e.next=3,null===n||void 0===n?void 0:n.methods.unlockTimestamps(t).call();case 3:r=e.sent,a=new Date(1e3*parseInt(r)),setInterval((function(){var e=a.getTime()-(new Date).getTime(),n={h:Math.floor(e/1e3/60/60),m:Math.floor(e%36e5/6e4),s:Math.floor(e%6e4/1e3)};y({timeDiff:e,timeRemaining:n,withdraw:!(e<0)})}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==n&&void 0!==n&&n.methods&&t&&(null===n||void 0===n||n.methods.stake(m().utils.toWei(N)).send({to:d.q7.vault,from:t,value:0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.methods||!t){e.next=5;break}return e.next=3,null===n||void 0===n?void 0:n.methods.diamondsToShares(N).call();case 3:r=e.sent,null===n||void 0===n||n.methods.quickUnstake(m().utils.toWei(r)).send({to:d.q7.vault,from:t,value:0});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,o.Z)(c().mark((function e(){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.methods||!t){e.next=8;break}return e.next=3,null===n||void 0===n?void 0:n.methods.diamondBalance().call();case 3:return r=e.sent,e.next=6,null===n||void 0===n?void 0:n.methods.totalSupply().call();case 6:a=e.sent,null===n||void 0===n||n.methods.prepareDelayedUnstake(m().utils.toWei(new(p())(N).times(a).div(r).toFixed(10))).send({to:d.q7.vault,from:t,value:0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"text-center flex flex-col space-y-2 items-center justify-between bg-gray-700 text-white shadow-lg p-2 px-6 rounded-lg w-[500px]",children:[(0,h.jsx)("h3",{className:"text-2xl font-bold",children:"Vault"}),(0,h.jsxs)("div",{className:"w-full flex flex-col space-y-1 text-sm text-gray-200",children:[(0,h.jsxs)("div",{className:"flex justify-between w-full",children:[(0,h.jsx)("p",{children:"Total Vault Balance"}),(0,h.jsx)("p",{children:a&&v(a)})]}),(0,h.jsxs)("div",{className:"flex justify-between w-full",children:[(0,h.jsx)("p",{children:"Staked Balance"}),(0,h.jsx)("p",{children:u&&v(u)})]}),(0,h.jsxs)("div",{className:"flex justify-between w-full",children:[(0,h.jsx)("p",{children:"% of Vault"}),(0,h.jsx)("p",{children:a&&u&&"".concat(null===u||void 0===u?void 0:u.dividedBy(a.eq(0)?1:a).times(100).toFormat(5),"%")})]}),(0,h.jsxs)("div",{className:"flex justify-between w-full",children:[(0,h.jsx)("p",{children:"Pending Balance"}),(0,h.jsx)("p",{children:g&&v(g)})]}),(0,h.jsxs)("div",{className:"flex justify-between w-full",children:[(0,h.jsx)("p",{children:"Withdrawable In"}),(0,h.jsx)("div",{children:null!==j&&void 0!==j&&j.timeRemaining&&null!==j&&void 0!==j&&j.withdraw?(0,h.jsxs)("span",{className:"text-sm text-gray-300 flex space-x-1 justify-center",children:[j.timeRemaining.h&&(0,h.jsxs)("span",{children:[j.timeRemaining.h,"h"]}),j.timeRemaining.m&&(0,h.jsxs)("span",{children:[j.timeRemaining.m,"m"]}),j.timeRemaining.s&&(0,h.jsxs)("span",{children:[j.timeRemaining.s,"s"]})]}):(0,h.jsx)("span",{className:"text-sm text-green-500 flex space-x-1 justify-center",children:"Ready!"})})]})]}),(0,h.jsxs)("div",{className:"w-full flex flex-col space-y-3",children:[(0,h.jsx)("input",{value:N,onChange:function(e){C(e.target.value)},type:"number",max:2e4,placeholder:"0",className:"text-center border-none outline-none bg-gray-600 text-white rounded w-full"}),(0,h.jsxs)("div",{className:"flex space-x-2 w-full",children:[(0,h.jsx)("button",{onClick:T,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md flex-grow",children:"Stake"}),(0,h.jsxs)("div",{className:"flex space-x-1 flex-grow",children:[(0,h.jsx)("button",{onClick:D,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md w-1/2",children:"Fast Unstake"}),(0,h.jsx)("button",{onClick:q,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md w-1/2",children:"Slow Unstake"})]})]})]})]})},b=i.memo(g),w=function(e){var n=e.eventContract,t=e.account,r=(0,i.useState)(),a=r[0],s=r[1],l=(0,i.useState)(0),u=l[0],f=l[1];(0,i.useEffect)((function(){x()}),[n]);var x=function(){var e=(0,o.Z)(c().mark((function e(){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.methods||!t){e.next=8;break}return e.next=3,null===n||void 0===n?void 0:n.methods.activeEvent().call();case 3:return r=e.sent,e.next=6,null===n||void 0===n?void 0:n.methods.events(r).call();case 6:a=e.sent,s(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==n&&void 0!==n&&n.methods&&t&&(null===n||void 0===n||n.methods.gemPlay(m().utils.toWei(new(p())(u).toFixed(0))).send({to:d.q7.event,from:t,value:0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"text-center flex flex-col space-y-2 items-center justify-between bg-gray-700 text-white shadow-lg p-2 px-6 rounded-lg",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold",children:["Event: ",null===a||void 0===a?void 0:a.name]}),(0,h.jsxs)("div",{className:"w-full flex flex-col space-y-3",children:[(0,h.jsx)("input",{value:u,onChange:function(e){f(e.target.value)},type:"number",max:2e4,placeholder:"0",className:"text-center border-none outline-none bg-gray-600 text-white rounded w-full"}),(0,h.jsx)("div",{className:"flex space-x-2 w-full",children:(0,h.jsx)("button",{onClick:v,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md flex-grow",children:"Play"})})]})]})};function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function k(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw o}}}}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}p().config({FORMAT:{decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0}});var C=function(){var e=(0,u.v9)((function(e){return e.blockchain})),n=(0,i.useState)([]),t=n[0],s=n[1],f=(0,i.useState)([]),x=f[0],g=f[1],j=(0,i.useState)([]),N=j[0],C=j[1],S=(0,i.useState)([]),O=S[0],I=S[1],Z=(0,i.useState)([]),T=Z[0],D=Z[1],q=(0,i.useState)({}),E=q[0],M=q[1],F=(0,i.useState)([]),A=F[0],R=F[1],B=(0,i.useState)([]),U=B[0],P=B[1],_=(0,i.useState)({}),W=_[0],G=_[1],L=(0,i.useRef)(),$=(0,i.useState)(),V=$[0],z=$[1],Q=(0,i.useState)(),X=Q[0],Y=Q[1],H=(0,i.useRef)(),K=(0,i.useState)([]),J=K[0],ee=K[1],ne=(0,i.useState)({level:0,quantity:0});ne[0],ne[1];(0,i.useEffect)((function(){g([]),e.minerContract&&e.account&&(re(),se())}),[e.minerContract,e.account]),(0,i.useEffect)((function(){I([]),e.mineContract&&e.account&&ae(),R([]),e.mineContract&&e.account&&oe()}),[e.mineContract,e.account]),(0,i.useEffect)((function(){te()}),[e.diamondContract,e.account]);var te=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=0,null===(t=e.diamondContract)||void 0===t||!t.methods||!e.account){n.next=5;break}return n.next=4,null===(a=e.diamondContract)||void 0===a?void 0:a.methods.balanceOf(e.account).call();case 4:r=n.sent;case 5:z(new(p())(m().utils.fromWei(r.toString())));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),re=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,o,l,i,u,d,f;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],null===(t=e.minerContract)||void 0===t||!t.methods||!e.account){n.next=10;break}return n.next=4,null===(o=e.minerContract)||void 0===o?void 0:o.methods.balanceOf(e.account).call();case 4:if(0===(l=n.sent)){n.next=10;break}return n.next=8,e.minerContract.methods.batchedMinerOfOwner(e.account,0,l).call();case 8:if(i=n.sent){u=k(i);try{for(f=function(){var e=d.value;r.push(parseInt(e.tokenId));var n="".concat(e.revealed?0===parseInt(e.level)?"miners/".concat(e.tokenId,".png"):1===parseInt(e.level)?"super/".concat(e.tokenId,".png"):"craftables/".concat(e.level,".png"):"unrevealed-miner.jpg");s((function(t){return y(y({},t),{},(0,a.Z)({},e.tokenId,y(y({},t[e.tokenId]),{},{level:parseInt(e.level),img:n,revealed:e.revealed})))}))},u.s();!(d=u.n()).done;)f()}catch(c){u.e(c)}finally{u.f()}r.sort((function(e,n){return e-n}))}case 10:g(r);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ae=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,o,l,i,u,d,f,x,v,h;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],clearInterval(H.current),Y(new(p())(0)),null===(t=e.mineContract)||void 0===t||!t.methods||!e.account){n.next=34;break}return n.next=6,null===(o=e.mineContract)||void 0===o?void 0:o.methods.ownedStakesBalance(e.account).call();case 6:if(0===(l=n.sent)){n.next=34;break}return n.next=10,e.mineContract.methods.batchedStakesOfOwner(e.account,0,l).call();case 10:if(!(i=n.sent)){n.next=34;break}d={},f=k(i),n.prev=14,v=c().mark((function n(){var t,o,l,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=x.value,r.push(parseInt(o.tokenId)),l="".concat(0===parseInt(o.level)?"miners/".concat(o.tokenId,".png"):1===parseInt(o.level)?"super/".concat(o.tokenId,".png"):"craftables/".concat(o.level,".png")),n.next=5,null===(t=e.minerContract)||void 0===t?void 0:t.methods.levels(o.level).call();case 5:i=n.sent,d[o.level]=parseInt(i.yield),s((function(e){return y(y({},e),{},(0,a.Z)({},o.tokenId,y(y({},e[o.tokenId]),{},{level:parseInt(o.level),img:l,revealed:o.revealed})))}));case 8:case"end":return n.stop()}}),n)})),f.s();case 17:if((x=f.n()).done){n.next=21;break}return n.delegateYield(v(),"t0",19);case 19:n.next=17;break;case 21:n.next=26;break;case 23:n.prev=23,n.t1=n.catch(14),f.e(n.t1);case 26:return n.prev=26,f.f(),n.finish(26);case 29:return n.next=31,null===(u=e.mineContract)||void 0===u?void 0:u.methods.YIELD_DPS().call();case 31:h=n.sent,H.current=setInterval((function(){var e,n=new(p())(0),t=k(i);try{var r=function(){var t=e.value;if(0!==d[t.level]){var r=new(p())(m().utils.fromWei(new(p())(Math.round(Date.now()-Math.round(1e3*t.startTimestamp))*d[t.level]*parseFloat(h)/1e3).toFixed(0),"ether"));M((function(e){return y(y({},e),{},(0,a.Z)({},t.tokenId,y(y({},e[t.tokenId]),{},{earned:r})))})),n=n.plus(r)}};for(t.s();!(e=t.n()).done;)r()}catch(o){t.e(o)}finally{t.f()}Y(n)}),i.length>15?120:80),r.sort((function(e,n){return e-n}));case 34:I(r);case 35:case"end":return n.stop()}}),n,null,[[14,23,26,29]])})));return function(){return n.apply(this,arguments)}}(),oe=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,o,l,i,u,d,f,m,x;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],clearInterval(L.current),null===(t=e.mineContract)||void 0===t||!t.methods||!e.account){n.next=14;break}return n.next=5,null===(o=e.mineContract)||void 0===o?void 0:o.methods.ownedCooldownsBalance(e.account).call();case 5:if(0===(l=n.sent)){n.next=14;break}return n.next=9,e.mineContract.methods.batchedCooldownsOfOwner(e.account,0,l).call();case 9:return u=n.sent,n.next=12,null===(i=e.mineContract)||void 0===i?void 0:i.methods.UNSTAKE_COOLDOWN_DURATION().call();case 12:if(d=n.sent,u){f=k(u);try{for(x=function(){var e=m.value;r.push(parseInt(e.tokenId));var n="".concat(0===parseInt(e.level)?"miners/".concat(e.tokenId,".png"):1===parseInt(e.level)?"super/".concat(e.tokenId,".png"):"craftables/".concat(e.level,".png"));s((function(t){return y(y({},t),{},(0,a.Z)({},e.tokenId,y(y({},t[e.tokenId]),{},{level:parseInt(e.level),img:n,revealed:e.revealed})))}))},f.s();!(m=f.n()).done;)x()}catch(c){f.e(c)}finally{f.f()}ce(u,d),L.current=setInterval((function(){ce(u,d)}),u.length<15?1e3:6e4)}case 14:R(r);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),se=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,a,o,s,l,i,u,d,f,x;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(ee([]),null===(t=e.minerContract)||void 0===t||!t.methods||!e.account){n.next=31;break}return a=[],o=!1,s="https://gateway.pinata.cloud/ipfs/",n.next=7,null===(r=e.minerContract)||void 0===r?void 0:r.methods.contractURI().call();case 7:l=n.sent,i=s+l.replace("ipfs://","").replace("contract-meta.json",""),u=2;case 10:if(o){n.next=30;break}return d=void 0,n.prev=12,n.next=15,null===(f=e.minerContract)||void 0===f?void 0:f.methods.levels(u).call();case 15:return d=n.sent,n.next=18,fetch(i+u+".json");case 18:return n.next=20,n.sent.json();case 20:x=n.sent,a.push({level:u,name:x.name,description:x.story,maxSupply:d.maxSupply,supply:d.supply,price:m().utils.fromWei(d.price),dpm:d.yield}),n.next=27;break;case 24:n.prev=24,n.t0=n.catch(12),o=!0;case 27:u++,n.next=10;break;case 30:ee(a);case 31:case"end":return n.stop()}}),n,null,[[12,24]])})));return function(){return n.apply(this,arguments)}}(),ce=function(e,n){var t,r=k(e);try{var o=function(){var r=t.value,o=new Date(1e3*(parseInt(r.startTimestamp)+parseInt(n))).getTime()-(new Date).getTime(),s={h:Math.floor(o/1e3/60/60),m:Math.floor(o%36e5/6e4),s:e.length<15?Math.floor(o%6e4/1e3):null};G((function(e){return y(y({},e),{},(0,a.Z)({},r.tokenId,y(y({},e[r.tokenId]),{},{timeDiff:o,timeRemaining:s,withdraw:!(o>0)})))}))};for(r.s();!(t=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}},le=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null!==(t=e.diamondContract)&&void 0!==t&&t.methods&&null!==(r=e.mineContract)&&void 0!==r&&r.methods&&e.account&&(null===(a=e.mineContract)||void 0===a||a.methods.claimDiamondsAndMaybeUnstake(O,!1).send({to:d.q7.mine,from:e.account,value:0}).once("sending",(function(e){console.log(e)})).once("sent",(function(e){console.log(e)})).once("transactionHash",(function(e){console.log(e)})).once("receipt",(function(e){ae(),te()})).on("error",(function(e){console.log(e)})).then((function(e){console.log(e)})).catch((function(e){console.log(e)})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ie=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,a,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(t=e.mineContract)||void 0===t||!t.methods||!e.account){n.next=5;break}return n.next=3,null===(r=e.minerContract)||void 0===r?void 0:r.methods.isApprovedForAll(e.account,d.q7.mine).call();case 3:n.sent?null===(a=e.mineContract)||void 0===a||a.methods.stakeMany(N).send({gasLimit:String(7999999),to:d.q7.mine,from:e.account,value:0}).once("receipt",(function(e){ae(),re()})).catch((function(e){console.log(e)})):null===(o=e.minerContract)||void 0===o||o.methods.setApprovalForAll(d.q7.mine,!0).send({to:d.q7.mine,from:e.account,value:0}).then((function(){var n;null===(n=e.mineContract)||void 0===n||n.methods.stakeMany(N).send({gasLimit:String(7e6),to:d.q7.mine,from:e.account,value:0}).once("receipt",(function(e){ae(),re()})).catch((function(e){console.log(e)}))}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ue=function(){var n=(0,o.Z)(c().mark((function n(){var t,r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null!==(t=e.diamondContract)&&void 0!==t&&t.methods&&null!==(r=e.mineContract)&&void 0!==r&&r.methods&&e.account&&(null===(a=e.mineContract)||void 0===a||a.methods.claimDiamondsAndMaybeUnstake(T,!0).send({gasLimit:String(7e6),to:d.q7.mine,from:e.account,value:0}).once("receipt",(function(e){ae(),te(),oe()})).catch((function(e){console.log(e)})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),de=function(){var n=(0,o.Z)(c().mark((function n(){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null!==(t=e.mineContract)&&void 0!==t&&t.methods&&e.account&&(null===(r=e.mineContract)||void 0===r||r.methods.withdrawMiner(U).send({gasLimit:String(7e6),to:d.q7.mine,from:e.account,value:0}).once("receipt",(function(e){re(),oe()})).catch((function(e){console.log(e)})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),fe=function(){var n=(0,o.Z)(c().mark((function n(t,r){var a,o,s,l;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(a=e.minerContract)||void 0===a||!a.methods||!e.account){n.next=5;break}return n.next=3,null===(o=e.minerContract)||void 0===o?void 0:o.methods.isApprovedForAll(e.account,d.q7.miner).call();case 3:n.sent?null===(s=e.minerContract)||void 0===s||s.methods.mintUpgrade(t,r).send({to:d.q7.miner,from:e.account,value:0}).once("receipt",(function(e){console.log(e)})).catch((function(e){console.log(e)})):null===(l=e.minerContract)||void 0===l||l.methods.setApprovalForAll(d.q7.miner,!0).send({to:d.q7.miner,from:e.account,value:0}).once("receipt",(function(n){var a;null===(a=e.minerContract)||void 0===a||a.methods.mintUpgrade(t,r).send({to:d.q7.miner,from:e.account,value:0}).once("receipt",(function(e){console.log(e)})).catch((function(e){console.log(e)}))}));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),me=function(e){switch(e){case 0:return" text-white";case 1:return" text-red-500";case 2:return" text-green-500";case 3:return" text-amber-500";case 4:return" text-cyan-500";case 5:return" text-pink-500";case 6:return" text-purple-500";case 7:return" text-teal-400"}};return d.e1.whitelistOnly&&!d.e1.whitelistedWallets.find((function(n){var t;return n.toLowerCase()===(null===(t=e.account)||void 0===t?void 0:t.toLowerCase())||""}))?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.default,{children:(0,h.jsx)("title",{children:"Game | MinerVerse"})}),(0,h.jsx)("section",{className:"text-gray-900 bg-gray-900 body-font h-full",children:(0,h.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-5 overflow-auto pt-44 pb-11",children:[(0,h.jsxs)("div",{className:"flex space-x-5 items-start",children:[(0,h.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,h.jsxs)("div",{className:"text-xl text-center flex flex-col items-center justify-center bg-gray-700 text-white shadow-lg p-6 px-11 w-[500px] rounded-lg",children:[(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsxs)("h5",{className:"flex flex-col items-start w-[100px]",children:[(0,h.jsx)("span",{children:"Balance: "}),(0,h.jsx)("span",{children:"Earned: "})]}),(0,h.jsx)("div",{className:"relative w-[300px]",children:(0,h.jsxs)("h5",{className:"flex flex-col items-start absolute top-0 left-0 whitespace-nowrap font-space-mono",children:[(0,h.jsx)("span",{children:V&&v(V,5)}),(0,h.jsx)("span",{children:X&&v(X,5)})]})})]}),(0,h.jsx)("button",{disabled:null===X||void 0===X?void 0:X.eq(0),onClick:le,className:"mt-4 py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md",children:"Claim"})]}),(0,h.jsx)(w,{eventContract:e.eventContract,account:e.account})]}),(0,h.jsx)(b,{vaultContract:e.vaultContract,account:e.account})]}),(0,h.jsx)("div",{className:"px-11 text-center w-full",children:(0,h.jsxs)("div",{className:"text-xl text-center flex flex-col items-center justify-center bg-gray-700 text-white shadow-lg p-6 w-full rounded-lg",children:[(0,h.jsx)("h2",{className:"font-bold",children:"Shop"}),(0,h.jsx)("div",{className:"flex flex-col w-full mt-3",children:J.map((function(e){return(0,h.jsxs)("div",{className:"p-2 rounded-lg w-full mb-2 flex",children:[(0,h.jsx)("div",{className:"w-[120px] h-[120px] mr-6",children:(0,h.jsx)("img",{src:"craftables/".concat(e.level,".png"),className:"object-contain w-full h-full"})}),(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-2 font-light text-sm text-gray-300",children:[(0,h.jsxs)("p",{className:"font-bold text-white",children:[e.name," - "]}),(0,h.jsxs)("p",{children:[e.price," \ud83d\udc8e"]}),(0,h.jsx)("p",{children:" | "}),(0,h.jsxs)("p",{children:[e.dpm," DPM"]}),(0,h.jsx)("p",{children:" | "}),(0,h.jsxs)("p",{children:[e.supply," / ",e.maxSupply," Minted"]})]}),(0,h.jsx)("div",{className:"flex items-center mt-2 font-light text-sm text-gray-200",children:(0,h.jsx)("p",{children:e.description})}),(0,h.jsx)("div",{className:"flex items-center mt-auto font-light text-sm text-gray-200",children:(0,h.jsx)("button",{onClick:function(){fe(e.level,1)},className:"mt-2 bg-rose-500 rounded-lg p-1 px-4 text-base",children:"Mint"})})]})]},e.level)}))})]})}),(0,h.jsxs)("div",{className:"px-11 text-center w-full",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between w-full mb-4 p-2 px-3 bg-gray-700 text-white rounded-lg shadow-lg",children:[(0,h.jsx)("h3",{className:"font-bold text-xl",children:"Staked"}),(0,h.jsxs)("div",{className:"flex space-x-3",children:[(0,h.jsx)("button",{onClick:function(){D([])},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Unselect"}),(0,h.jsx)("button",{onClick:function(){D((0,r.Z)(O))},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Select All"}),(0,h.jsx)("button",{disabled:0===T.length,onClick:ue,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md",children:"Unstake"})]})]}),(0,h.jsx)("div",{className:"flex flex-wrap justify-center",children:O.map((function(e){var n,a;return(0,h.jsx)("div",{onMouseDown:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=T.indexOf(e);D(t>-1?T.filter((function(n){return n!==e})):[].concat((0,r.Z)(T),[e]))}},onMouseEnter:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=T.indexOf(e);D(t>-1?T.filter((function(n){return n!==e})):[].concat((0,r.Z)(T),[e]))}},className:"relative shadow-lg p-3 mr-1 mb-1 cursor-pointer select-none "+(-1!==T.indexOf(e)?" bg-gray-500 ":"bg-gray-700 ")+me(null===(n=t[e])||void 0===n?void 0:n.level),children:(0,h.jsxs)("div",{className:"flex flex-col items-center",children:[(0,h.jsx)("p",{className:"text-lg",children:e}),t[e].img&&(0,h.jsx)("div",{className:"w-[80px] h-[120px]",children:(0,h.jsx)("img",{src:t[e].img,className:"object-contain w-full h-full"})}),(0,h.jsx)("p",{className:"text-sm text-gray-300",children:v((null===(a=E[e])||void 0===a?void 0:a.earned)||new(p())(0),3)})]})},e)}))})]}),(0,h.jsxs)("div",{className:"px-11 text-center w-full",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between w-full mb-4 p-2 px-3 bg-gray-700 text-white rounded-lg shadow-lg",children:[(0,h.jsx)("h3",{className:"font-bold text-xl",children:"Not Staked"}),(0,h.jsxs)("div",{className:"flex space-x-3",children:[(0,h.jsx)("button",{onClick:function(){C([])},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Unselect"}),(0,h.jsx)("button",{onClick:function(){C((0,r.Z)(x))},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Select All"}),(0,h.jsx)("button",{disabled:0===N.length,onClick:ie,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md",children:"Stake"})]})]}),(0,h.jsx)("div",{className:"flex flex-wrap justify-center",children:x.map((function(e){var n;return(0,h.jsxs)("div",{onMouseDown:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=N.indexOf(e);C(t>-1?N.filter((function(n){return n!==e})):[].concat((0,r.Z)(N),[e]))}},onMouseEnter:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=N.indexOf(e);C(t>-1?N.filter((function(n){return n!==e})):[].concat((0,r.Z)(N),[e]))}},className:"relative shadow-lg p-4 mr-1 mb-1 cursor-pointer select-none "+(-1!==N.indexOf(e)?" bg-gray-500 ":"bg-gray-700 ")+me(null===(n=t[e])||void 0===n?void 0:n.level),children:[(0,h.jsx)("p",{className:"",children:e}),t[e].img&&(0,h.jsx)("div",{className:"w-[80px] h-[120px]",children:(0,h.jsx)("img",{src:t[e].img,className:"object-contain w-full h-full"})})]},e)}))})]}),(0,h.jsxs)("div",{className:"px-11 text-center w-full",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between w-full mb-4 p-2 px-3 bg-gray-700 text-white rounded-lg shadow-lg",children:[(0,h.jsx)("h3",{className:"font-bold text-xl",children:"Cooldown"}),(0,h.jsxs)("div",{className:"flex space-x-3",children:[(0,h.jsx)("button",{onClick:function(){P([])},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Unselect"}),(0,h.jsx)("button",{onClick:function(){P((0,r.Z)(A))},className:"py-1 px-3 bg-gray-400 hover:bg-gray-500 rounded-md",children:"Select All"}),(0,h.jsx)("button",{disabled:0===U.length,onClick:de,className:"py-1 px-3 bg-rose-500 disabled:hover:bg-rose-500 hover:bg-rose-600 rounded-md",children:"Withdraw"})]})]}),(0,h.jsx)("div",{className:"flex flex-wrap justify-center",children:A.map((function(e){var n,a,o;return(0,h.jsxs)("div",{onMouseDown:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=U.indexOf(e);P(t>-1?U.filter((function(n){return n!==e})):[].concat((0,r.Z)(U),[e]))}},onMouseEnter:function(n){if(n.preventDefault(),1==n.buttons||3==n.buttons){var t=U.indexOf(e);P(t>-1?U.filter((function(n){return n!==e})):[].concat((0,r.Z)(U),[e]))}},className:"relative shadow-lg p-4 mr-1 mb-1 cursor-pointer select-none "+(-1!==U.indexOf(e)?" bg-gray-500 ":"bg-gray-700 ")+me(null===(n=t[e])||void 0===n?void 0:n.level),children:[(0,h.jsx)("p",{className:"text-lg",children:e}),t[e].img&&(0,h.jsx)("div",{className:"w-[80px] h-[120px]",children:(0,h.jsx)("img",{src:t[e].img,className:"object-contain w-full h-full"})}),null===(a=W[e])||void 0===a||!a.timeRemaining||null!==(o=W[e])&&void 0!==o&&o.withdraw?(0,h.jsx)("p",{className:"text-sm text-green-500 flex space-x-1 justify-center",children:"Ready!"}):(0,h.jsxs)("p",{className:"text-sm text-gray-300 flex space-x-1 justify-center",children:[W[e].timeRemaining.h&&(0,h.jsxs)("span",{children:[W[e].timeRemaining.h,"h"]}),W[e].timeRemaining.m&&(0,h.jsxs)("span",{children:[W[e].timeRemaining.m,"m"]}),W[e].timeRemaining.s&&(0,h.jsxs)("span",{children:[W[e].timeRemaining.s,"s"]})]})]},e)}))})]})]})})]})}},43790:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return t(96259)}])}},function(e){e.O(0,[431,774,888,179],(function(){return n=43790,e(e.s=n);var n}));var n=e.O();_N_E=n}]);